<!DOCTYPE html>
<!--suppress HtmlFormInputWithoutLabel -->
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Fluxbot Configuration Page</title>
	<!-- This is to stop a weird "favicon" error.
		Solution taken from here:
		https://stackoverflow.com/questions/31075893/im-getting-favicon-ico-error -->
	<link rel="shortcut icon" href="#" />

	<style>
		.file-upload-name {
			background: #585858;
			padding: 0.5rem;
			color: white;
		}

		/*noinspection CssUnusedSymbol*/
		.status-changed {
			border: 2px solid #faa05a;
			border-radius: 7px;
		}
		.status-error {
			border: 2px solid #d54567;
			border-radius: 7px;
		}
	</style>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="css/uikit.min.css" />
	<script src="js/uikit.min.js"></script>
	<script src="js/uikit-icons.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<!--suppress HtmlUnknownTarget -->
	<script src="/socket.io/socket.io.js"></script>

	<!--suppress HtmlUnknownTarget -->
	<script src="/common/configEntities.js"></script>
<!--	<script type="module" src="./entityGuis/entityGuis.mjs"></script>-->
	<script type="text/javascript">
		let listening = false;

		function bodyKeyPress(e) {
			if (listening) {
				$('#keyText').text(e.keyCode);
				UIkit.switcher($('#keyview')).show(2);
				listening = false;
			}
		}

		function listenForKey() {
			UIkit.switcher($('#keyview')).show(1);
			listening = true;
		}
	</script>
<!--	<script type="module" src="./config.mjs"></script>-->
</head>
<body onkeypress="bodyKeyPress(event)">
<!--<form class="uk-form-horizontal">-->

<!--&lt;!&ndash; Modal &ndash;&gt; <div id="my-modal" class="" uk-modal>-->
<!--	<div class="uk-modal-dialog uk-modal-body uk-light uk-background-secondary">-->
<!--		<button class="uk-modal-close-default" type="button" uk-close></button>-->
<!--		<div>-->
<!--			<ul uk-accordion class="uk-margin-small-top">-->
<!--				<li>-->
<!--					<a class="uk-accordion-title" href="#">Dynamic Array</a>-->
<!--					<div class="uk-accordion-content"> <div>-->
<!--						<div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap">-->
<!--							<span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right" uk-icon="icon: triangle-right"></span>-->
<!--							<div>-->
<!--								<input id="m-dynamic-item-1" class="uk-input uk-width-expand" type="number" placeholder="Value...">-->
<!--							</div>-->
<!--							<span class="uk-width-auto"></span>-->
<!--							<button class="uk-button uk-button-default uk-width-auto uk-padding-remove">-->
<!--								<span uk-icon="icon: trash"></span>-->
<!--							</button>-->
<!--						</div>-->
<!--						<div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap">-->
<!--							<span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right" uk-icon="icon: triangle-right"></span>-->
<!--							<div>-->
<!--								<input id="m-dynamic-item-2" class="uk-input uk-width-expand" type="number" placeholder="Value...">-->
<!--							</div>-->
<!--							<span class="uk-width-auto"></span>-->
<!--							<button class="uk-button uk-button-default uk-width-auto uk-padding-remove">-->
<!--								<span uk-icon="icon: trash"></span>-->
<!--							</button>-->
<!--						</div>-->
<!--						<button class="uk-button uk-button-default uk-width-1-1 uk-margin-small-top">Add Element</button>-->
<!--					</div> </div>-->
<!--				</li>-->
<!--			</ul>-->
<!--		</div>-->
<!--	</div>-->
<!--</div>-->



<div class="uk-light uk-background-secondary uk-padding-small uk-height-viewport">
	<h1 class="uk-heading-line uk-text-center uk-margin-remove-bottom">
		<span class="uk-padding-small">Fluxbot Configuration Tool</span>
	</h1>
	<div class="uk-flex uk-flex-center">
		<div>
			<button id="btn-revert" class="uk-button uk-button-default uk-width-small">Revert</button>
		</div>
		<div class="uk-padding-small"></div>
		<div>
			<button id="btn-apply" class="uk-button uk-button-default uk-width-small uk-text-muted" disabled>Apply</button>
		</div>
	</div>
	<hr>
	<div class="uk-padding-small">
		<div class="uk-child-width-1-2@s uk-padding-small" uk-grid>
			<ul class="uk-width-auto@m uk-tab-left uk-width-auto@m" uk-tab uk-switcher="connect: #configView">
				<li class="uk-active"><a class="uk-text-warning" href="#">Main</a></li>
				<li><a href="#">Modules</a></li>
			</ul>
			<ul id="configView" class="uk-switcher switcher-container uk-width-expand@m">
				<li id="main" class="uk-child-width-expand" uk-grid>
					<div>
						<!-- Number --> <div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap" uk-tooltip="Server port">
							<h3 class="uk-width-1-6 uk-text-warning">Port</h3>
							<div class="uk-width-expand">
								<input id="main-number" class="uk-input uk-text-warning" type="number" placeholder="Value...">
							</div>
						</div>
						<!-- Boolean --> <div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap">
							<h4 class="uk-width-1-6" uk-tooltip="Prevents the bot from printing lots of stuff to the console">Silent Mode</h4>
							<div class="uk-width-expand">
								<input id="main-boolean" class="uk-checkbox uk-height-1-1 uk-margin-auto-top" type="checkbox" uk-tooltip="Prevents the bot from printing lots of stuff to the console">
							</div>
						</div>
						<!-- String --> <div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap" uk-tooltip="Some name">
							<h3 class="uk-width-1-6">Name</h3>
							<div class="uk-width-expand">
								<input id="main-string" class="uk-input" type="text" placeholder="Value...">
							</div>
						</div>
						<!-- Key --> <div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap" uk-tooltip="Key">
							<h3 class="uk-width-1-6 uk-text-warning">Key</h3>
							<div class="uk-width-expand">
<!--								<input id="main-key" class="uk-input uk-button" type="button">-->
								<div class="uk-button uk-button-default" onclick="listenForKey();">
									<ul id="keyview" uk-switcher="toggle: > *" hidden>
										<li></li>
										<li></li>
										<li></li>
									</ul>
									<ul id="keyview-vals" class="uk-switcher" uk-switcher="toggle: > *">
										<li>Click to Set Key</li>
										<li>Waiting for keypress...</li>
										<li id="keyText" class="uk-label uk-label-warning">F1</li>
									</ul>
<!--									<span class="uk-label">F1</span>-->
								</div>
							</div>
						</div>
						<!-- Object --> <div>
							<ul uk-accordion class="uk-margin-small-top uk-border-rounded uk-box-shadow-large uk-padding-small">
								<li>
									<a class="uk-accordion-title" href="#">Main 2</a>
									<div class="uk-accordion-content">
										<p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor reprehenderit.</p>
									</div>
								</li>
								<li>
									<a class="uk-accordion-title" href="#">Main 3</a>
									<div class="uk-accordion-content">
										<p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat proident.</p>
									</div>
								</li>
							</ul>
						</div>
						<!-- Static Array --><ul uk-accordion class="uk-margin-small-top uk-border-rounded uk-box-shadow-hover-large uk-padding-small">
								<li>
									<a class="uk-accordion-title uk-background-primary uk-border-rounded uk-padding-small" href="#">Static Array</a>
									<div class="uk-accordion-content"> <div>
										<div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap">
											<span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right uk-text-warning" uk-icon="icon: triangle-right"></span>
											<div>
												<input id="static-1" class="uk-input uk-width-expand" type="number" placeholder="Number...">
											</div>
										</div>
										<div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap">
											<span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right" uk-icon="icon: triangle-right"></span>
											<span class="uk-width-auto"></span>
											<input id="static-2" class="uk-input uk-width-expand" type="text" placeholder="Text...">
										</div>
										<div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap">
											<span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right" uk-icon="icon: triangle-right"></span>
											<span class="uk-width-auto"></span>
											<div class="uk-child-width-expand@s uk-grid uk-margin-small-top uk-flex-nowrap">
												<h4 class="uk-width-1-6@m" uk-tooltip="Prevents the bot from printing lots of stuff to the console">Silent Mode</h4>
												<div class="uk-width-expand@m">
													<input id="main-static-boolean" class="uk-checkbox uk-height-1-1 uk-margin-auto-top" type="checkbox" uk-tooltip="Prevents the bot from printing lots of stuff to the console">
												</div>
											</div>
<!--												<input id="static-3" class="uk-checkbox uk-width-auto" type="checkbox" uk-tooltip="Prevents the bot from printing lots of stuff to the console">-->
										</div>
									</div> </div>
								</li>
							</ul>
						<!-- Dynamic Array --> <div>
							<ul uk-accordion class="uk-margin-small-top">
								<li>
									<a class="uk-accordion-title" href="#">Dynamic Array</a>
									<div class="uk-accordion-content"> <div>
										<div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap">
											<span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right" uk-icon="icon: triangle-right"></span>
											<div>
												<input id="dynamic-item-1" class="uk-input uk-width-expand" type="number" placeholder="Value...">
											</div>
											<span class="uk-width-auto"></span>
											<button class="uk-button uk-button-default uk-width-auto uk-padding-remove">
												<span uk-icon="icon: trash"></span>
											</button>
										</div>
										<div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap">
											<span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right" uk-icon="icon: triangle-right"></span>
											<div>
												<input id="dynamic-item-2" class="uk-input uk-width-expand" type="number" placeholder="Value...">
											</div>
											<span class="uk-width-auto"></span>
											<button class="uk-button uk-button-default uk-width-auto uk-padding-remove">
												<span uk-icon="icon: trash"></span>
											</button>
										</div>
										<button class="uk-button uk-button-default uk-width-1-1 uk-margin-small-top">Add Element</button>
									</div> </div>
								</li>
							</ul>
						</div>
						<!-- Choice --> <div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap">
						<h3 class="uk-width-1-6 uk-text-warning" uk-tooltip="User Filter">User Filter</h3>
						<div class="uk-width-expand">
							<select class="uk-select" onchange="UIkit.switcher($('#hey')).show(Number(this.value));">
								<option value="0">Mods Only</option>
								<option value="1">Specific User</option>
								<option value="2">Specific Users</option>
							</select>
							<ul id="hey" uk-switcher="toggle: > *" hidden>
								<li></li>
								<li></li>
								<li></li>
							</ul>
							<ul id="bla" class="uk-switcher">
								<li></li>
								<li>
									<!-- String --> <div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap" uk-tooltip="Some name">
									<h3 class="uk-width-1-6">Name</h3>
									<div class="uk-width-expand">
										<input class="uk-input" type="text" placeholder="Value...">
									</div>
								</div>
								</li>
								<li>Array here</li>
							</ul>
						</div>
					</div>
						<!-- User Data --> <div>
							<!-- Single Image --> <div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap">
								<h3 class="uk-width-1-6"><span>Image File</span></h3>
								<div>
									<div class="uk-width-expand">
										<button id="upload-toggler" class="uk-button uk-button-default" type="button" uk-toggle="target: ~ *" hidden></button>
										<div class="uk-visible-toggle uk-flex uk-flex-column uk-width-small uk-padding-remove" tabindex="-1" hidden>
												<div class="uk-inline">
													<img id="upload-image" class="uk-width-small" alt="" src="" uk-img>
													<span class="uk-invisible-hover uk-position-absolute uk-transform-center uk-light" style="left: 90%; top: 10%">
														<button id="xbtn" class="uk-invisible-hover" type="button" uk-close></button>
													</span>
												</div>
												<span class="uk-text-meta uk-text-break uk-width-small file-upload-name">
													<span id="imgNameTag" class="uk-flex uk-flex-center uk-text-truncate"></span>
												</span>
										</div>
										<div id="uploader" class="js-upload uk-placeholder uk-text-center uk-margin-remove">
											<span uk-icon="icon: upload"></span>
											<span class="uk-text-middle">Upload image by dropping it here or</span>
											<div uk-form-custom>
												<input type="file" multiple>
												<span class="uk-link">selecting one</span>.
											</div>
										</div>
									</div>
									<progress id="js-progressbar" class="uk-progress" value="0" max="100" hidden></progress>
								</div>
							</div>
							<!-- Multi Image --> <div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap">
								<h3 class="uk-width-1-6"><span>Multi Files</span></h3>
								<div>
									<div class="uk-width-expand">
<!--										<button id="m-upload-toggler" class="uk-button uk-button-default" type="button" uk-toggle="target: ~ *" hidden></button>-->
<!--										<div class="uk-visible-toggle uk-flex uk-flex-column uk-width-small uk-padding-remove" tabindex="-1" hidden>-->
<!--										</div>-->
										<div id="m-uploader" class="js-upload uk-placeholder uk-text-center uk-margin-remove">
											<span uk-icon="icon: upload"></span>
											<span class="uk-text-middle">Upload image by dropping it here or</span>
											<div uk-form-custom>
												<input type="file" multiple>
												<span class="uk-link">selecting one</span>.
											</div>
											<div id="multi-preview" class="uk-grid-match uk-child-width-1-2 uk-child-width-1-4@l uk-child-width-1-5@xl uk-text-center" uk-grid uk-scrollspy="cls: uk-animation-scale-up; target: .list-item; delay: 80">
												<!-- Suggested 0 -->
<!--												<div class="uk-card uk-card-secondary uk-margin">-->
<!--													<div class="uk-card-media-top">-->
<!--														<img alt="..." src="https://i.stack.imgur.com/1yMhJ.png?s=32" uk-img style="width: 100%">-->
<!--													</div>-->
<!--													<div class="uk-card-body uk-margin-remove-first-child">-->
<!--														<h3 class="uk-card-title uk-margin-top uk-margin-remove-bottom">Test</h3>-->
<!--													</div>-->
<!--												</div>-->
												<!-- 1 --><div>
													<div class="uk-card uk-card-secondary uk-card-hover uk-flex uk-flex-column uk-flex-stretch">
														<div class="uk-card-body">
															<img style="width: 100%" src="https://i.stack.imgur.com/1yMhJ.png?s=32" alt="Nope">
														</div>
														<span class="uk-text-meta uk-text-break uk-card-footer file-upload-name">Bloop</span>
													</div>
												</div>
												<!-- 2 --><div>
													<div class="uk-card uk-card-secondary uk-card-hover">
														<img class="uk-card-body" src="https://gogocdn.net/cover/made-in-abyss-movie-3-fukaki-tamashii-no-reimei.png" alt="Nope">
														<span class="uk-text-meta uk-text-break uk-card-footer file-upload-name">Bloop</span>
													</div>
												</div>
												<!-- 3 (THIS ONE!) --><div>
													<a class="uk-height-medium uk-card uk-card-secondary uk-card-hover uk-visible-toggle uk-transition-toggle status-error" tabindex="0" onclick="UIkit.modal($('#my-modal')).show()">
														<img src="https://i.stack.imgur.com/1yMhJ.png?s=32" alt="Nope" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%)">
														<span class="uk-position-absolute uk-transform-center uk-light uk-invisible-hover" style="left: 90%; top: 5%">
																<button id="axbtn1" class="" type="button" uk-close></button>
															</span>
														<span class="uk-text-meta uk-text-break uk-transition-slide-bottom-small uk-overlay uk-position-bottom uk-padding-small file-upload-name">Bloop</span>
													</a>

<!--												<div id="my-modal" uk-modal="" class="uk-modal"><button class="uk-modal-close-default uk-icon uk-close" type="button" uk-close=""><svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"><line fill="none" stroke="#000" stroke-width="1.1" x1="1" y1="1" x2="13" y2="13"></line><line fill="none" stroke="#000" stroke-width="1.1" x1="13" y1="1" x2="1" y2="13"></line></svg></button><ul uk-accordion="" class="uk-margin-small-top uk-box-shadow-large uk-padding-small uk-accordion" id="mod-Random Image-images-13956b12-2249-4cfa-8187-e9f18d96fe9c"><li><a class="uk-accordion-title" href="#">#3</a><div class="uk-accordion-content" hidden=""><div><div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap"><span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right uk-icon" uk-icon="icon: triangle-right"><svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="8 5 13 10 8 15"></polygon></svg></span><div><div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap"><h4 class="uk-width-1-6" uk-tooltip="Display width on screen" title="" aria-expanded="false" tabindex="0">Width</h4><div class="uk-width-expand"><input id="mod-Random Image-images-13956b12-2249-4cfa-8187-e9f18d96fe9c-width" class="uk-input" type="number" value="" placeholder="Value..." uk-tooltip="Display width on screen" step="1" title="" aria-expanded="false"></div></div></div></div><div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap"><span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right uk-icon" uk-icon="icon: triangle-right"><svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="8 5 13 10 8 15"></polygon></svg></span><div><div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap"><h4 class="uk-width-1-6" uk-tooltip="Display height on screen" title="" aria-expanded="false" tabindex="0">Height</h4><div class="uk-width-expand"><input id="mod-Random Image-images-13956b12-2249-4cfa-8187-e9f18d96fe9c-height" class="uk-input" type="number" value="" placeholder="Value..." uk-tooltip="Display height on screen" step="1" title="" aria-expanded="false"></div></div></div></div><div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap"><span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right uk-icon" uk-icon="icon: triangle-right"><svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="8 5 13 10 8 15"></polygon></svg></span><div><div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap"><h4 class="uk-width-1-6" uk-tooltip="Duration in milliseconds that the image will be displayed" title="" aria-expanded="false" tabindex="0">Duration</h4><div class="uk-width-expand"><input id="mod-Random Image-images-13956b12-2249-4cfa-8187-e9f18d96fe9c-duration" class="uk-input" type="number" value="" placeholder="Value..." uk-tooltip="Duration in milliseconds that the image will be displayed" step="1" min="0" title="" aria-expanded="false"></div></div></div></div><div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap"><span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right uk-icon" uk-icon="icon: triangle-right"><svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><polygon points="8 5 13 10 8 15"></polygon></svg></span><div><ul uk-accordion="" class="uk-margin-small-top uk-box-shadow-large uk-padding-small uk-accordion" id="mod-Random Image-images-13956b12-2249-4cfa-8187-e9f18d96fe9c-effects"><li><a class="uk-accordion-title" href="#" uk-tooltip="Special effects to apply to the image" title="" aria-expanded="false">Effects</a><div class="uk-accordion-content" hidden=""><div><button class="uk-button uk-button-default uk-width-1-1 uk-margin-small-top">Add Element</button></div></div></li></ul></div></div></div></div></li></ul></div>-->


													<div id="my-modal" uk-modal="" class="uk-modal">
														<div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical uk-light uk-background-secondary">
														<button class="uk-modal-close-default uk-icon uk-close" type="button" uk-close="">
															<svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg">
																<line fill="none" stroke="#000" stroke-width="1.1" x1="1" y1="1" x2="13" y2="13"></line>
																<line fill="none" stroke="#000" stroke-width="1.1" x1="13" y1="1" x2="1" y2="13"></line>
															</svg>
														</button>
														<ul uk-accordion="" class="uk-margin-small-top uk-box-shadow-large uk-padding-small uk-accordion" id="mod-Random Image-images-13956b12-2249-4cfa-8187-e9f18d96fe9c">
															<li>
																<a class="uk-accordion-title" href="#">#3</a>
																<div class="uk-accordion-content" hidden="">
																	<div>
																		<div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap">
																		<span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right uk-icon" uk-icon="icon: triangle-right">
																			<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
																				<polygon points="8 5 13 10 8 15"></polygon>
																			</svg>
																		</span>
																			<div>
																				<div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap">
																					<h4 class="uk-width-1-6" uk-tooltip="Display width on screen" title="" aria-expanded="false" tabindex="0">Width</h4>
																					<div class="uk-width-expand"><input id="mod-Random Image-images-13956b12-2249-4cfa-8187-e9f18d96fe9c-width" class="uk-input" type="number" value="" placeholder="Value..." uk-tooltip="Display width on screen" step="1" title="" aria-expanded="false"></div>
																				</div>
																			</div>
																		</div>
																		<div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap">
																		<span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right uk-icon" uk-icon="icon: triangle-right">
																			<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
																				<polygon points="8 5 13 10 8 15"></polygon>
																			</svg>
																		</span>
																			<div>
																				<div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap">
																					<h4 class="uk-width-1-6" uk-tooltip="Display height on screen" title="" aria-expanded="false" tabindex="0">Height</h4>
																					<div class="uk-width-expand"><input id="mod-Random Image-images-13956b12-2249-4cfa-8187-e9f18d96fe9c-height" class="uk-input" type="number" value="" placeholder="Value..." uk-tooltip="Display height on screen" step="1" title="" aria-expanded="false"></div>
																				</div>
																			</div>
																		</div>
																		<div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap">
																		<span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right uk-icon" uk-icon="icon: triangle-right">
																			<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
																				<polygon points="8 5 13 10 8 15"></polygon>
																			</svg>
																		</span>
																			<div>
																				<div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap">
																					<h4 class="uk-width-1-6" uk-tooltip="Duration in milliseconds that the image will be displayed" title="" aria-expanded="false" tabindex="0">Duration</h4>
																					<div class="uk-width-expand"><input id="mod-Random Image-images-13956b12-2249-4cfa-8187-e9f18d96fe9c-duration" class="uk-input" type="number" value="" placeholder="Value..." uk-tooltip="Duration in milliseconds that the image will be displayed" step="1" min="0" title="" aria-expanded="false"></div>
																				</div>
																			</div>
																		</div>
																		<div class="uk-child-width-expand uk-child uk-grid uk-grid-small uk-margin-small-top uk-flex-nowrap">
																		<span class="uk-width-auto uk-preserve-width uk-margin-auto-top uk-margin-auto-bottom uk-margin-remove-right uk-icon" uk-icon="icon: triangle-right">
																			<svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
																				<polygon points="8 5 13 10 8 15"></polygon>
																			</svg>
																		</span>
																			<div>
																				<ul uk-accordion="" class="uk-margin-small-top uk-box-shadow-large uk-padding-small uk-accordion" id="mod-Random Image-images-13956b12-2249-4cfa-8187-e9f18d96fe9c-effects">
																					<li>
																						<a class="uk-accordion-title" href="#" uk-tooltip="Special effects to apply to the image" title="" aria-expanded="false">Effects</a>
																						<div class="uk-accordion-content" hidden="">
																							<div><button class="uk-button uk-button-default uk-width-1-1 uk-margin-small-top">Add Element</button></div>
																						</div>
																					</li>
																				</ul>
																			</div>
																		</div>
																	</div>
																</div>
															</li>
														</ul>
													</div>



<!--													&lt;!&ndash; Modal &ndash;&gt; <div id="my-modal" class="" uk-modal>-->
<!--														<div class="uk-modal-dialog uk-modal-body uk-light uk-background-secondary">-->
<!--															<button class="uk-modal-close-default" type="button" uk-close></button>-->
<!--															<div>Contents here!</div>-->
<!--														</div>-->
<!--													</div>-->
													</div>
												</div>


												<!-- GOOD SINGLE: CENTER -->
<!--												<div>-->
<!--													<div class="uk-card uk-card-secondary uk-card-hover uk-visible-toggle uk-transition-toggle" tabindex="0">-->
<!--														<img src="https://i.stack.imgur.com/1yMhJ.png?s=32" alt="Nope" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%)">-->
<!--														<span class="uk-position-absolute uk-transform-center uk-light uk-invisible-hover" style="left: 90%; top: 5%">-->
<!--																<button id="axbtn" class="" type="button" uk-close></button>-->
<!--															</span>-->
<!--														<span class="uk-text-meta uk-text-break uk-transition-slide-bottom-small uk-overlay uk-position-bottom uk-padding-small file-upload-name">Bloop</span>-->
<!--													</div>-->
<!--												</div>-->

												<!-- GOOD SINGLE: STRETCH -->
<!--												<div>-->
<!--													<div class="uk-card uk-card-secondary uk-card-hover uk-flex uk-flex-column uk-flex-center uk-visible-toggle uk-transition-toggle" tabindex="0">-->
<!--														<img src="https://i.stack.imgur.com/1yMhJ.png?s=32" alt="Nope">-->
<!--														<span class="uk-position-absolute uk-transform-center uk-light uk-invisible-hover" style="left: 90%; top: 5%">-->
<!--															<button id="axbtn" class="" type="button" uk-close></button>-->
<!--														</span>-->
<!--														<span class="uk-text-meta uk-text-break uk-transition-slide-bottom-small uk-overlay uk-position-bottom uk-padding-small file-upload-name">Bloop</span>-->
<!--													</div>-->
<!--												</div>-->

												<!-- 4 --><div>
<!--													<div class="uk-card uk-card-secondary uk-card-hover uk-grid uk-child-width-1-1" uk-grid>-->
<!--														<div class="uk-card-body">-->
<!--															<img src="https://i.stack.imgur.com/1yMhJ.png?s=32" alt="Nope">-->
<!--														</div>-->
<!--														<div class="uk-card-footer uk-text-meta uk-text-break file-upload-name">Bloop</div>-->
<!--													</div>-->
													<div class="uk-card uk-card-secondary uk-card-hover uk-flex uk-flex-column uk-flex-stretch">
<!--														<div class="uk-card-header"></div>-->
<!--														<span class="uk-invisible-hover uk-position-absolute uk-transform-center uk-light" style="left: 90%; top: 10%">-->
<!--															<button id="m-xbtn" class="uk-invisible-hover" type="button" uk-close></button>-->
<!--														</span>-->
														<div class="uk-card-body uk-padding-remove uk-margin-auto-top uk-margin-auto-bottom">
<!--																<img style="object-fit: contain; width: 100%; height: 100%" src="https://i.stack.imgur.com/1yMhJ.png?s=32" alt="Nope">-->
																<img style="object-fit: contain" src="https://gogocdn.net/cover/made-in-abyss-movie-3-fukaki-tamashii-no-reimei.png" alt="Nope">
																<span class="uk-position-absolute uk-transform-center uk-light" style="left: 90%; top: 10%">
																	<button id="axbtn" class="" type="button" uk-close></button>
																</span>
														</div>
														<div class="uk-text-meta uk-text-break uk-card-footer file-upload-name uk-width-expand" style="position: absolute; bottom: 0;">Bloop</div>
													</div>
												</div>
											</div>

<!--											<ul id="multi-preview" class="uk-list uk-grid-match uk-child-width-1-2 uk-child-width-1-4@l uk-child-width-1-5@xl uk-text-center" uk-grid uk-scrollspy="cls: uk-animation-scale-up; target: .list-item; delay: 80">-->
<!--												<li class="list-item uk-margin-medium-top uk-flex uk-flex-center uk-height-1-1">-->
<!--													<div class="uk-cover-container">-->
<!--														<div class="uk-width-expand uk-height-1-1">-->
<!--															<img src="https://gogocdn.net/cover/made-in-abyss-movie-3-fukaki-tamashii-no-reimei.png" alt="Nope">-->
<!--														</div>-->
<!--													</div>-->
<!--													<span class="uk-text-meta uk-text-break file-upload-name">Bloop</span>-->
<!--												</li>-->
<!--												<li class="list-item uk-margin-medium-top uk-grid-match">-->
<!--													<div class="uk-cover-container">-->
<!--														<div class="uk-width-expand uk-height-1-1">-->
<!--															<img src="https://i.stack.imgur.com/1yMhJ.png?s=32" alt="Nope">-->
<!--														</div>-->
<!--													</div>-->
<!--													<span class="uk-text-meta uk-text-break file-upload-name">Bloop</span>-->
<!--												</li>-->
<!--											</ul>-->


<!--											<div>-->
<!--												<div class="uk-inline">-->
<!--													<img id="m-upload-image" class="uk-width-small" alt="" src="https://i.stack.imgur.com/1yMhJ.png?s=32" uk-img>-->
<!--													<span class="uk-invisible-hover uk-position-absolute uk-transform-center uk-light" style="left: 90%; top: 10%">-->
<!--														<button id="m-xbtn" class="uk-invisible-hover" type="button" uk-close></button>-->
<!--													</span>-->
<!--												</div>-->
<!--												<span class="uk-text-meta uk-text-break uk-width-small file-upload-name">-->
<!--													<span id="m-imgNameTag" class="uk-flex uk-flex-center uk-text-truncate">Image</span>-->
<!--												</span>-->
<!--											</div>-->
										</div>
									</div>
									<progress id="m-js-progressbar" class="uk-progress" value="0" max="100" hidden></progress>
								</div>
							</div>
						</div>
						<!-- Single File Upload --> <div class="uk-child-width-expand uk-grid uk-margin-small-top uk-flex-nowrap">
							<!--form ref="uploadForm" id="uploadForm" action="/upload" method="POST" enctype="multipart/form-data">
								<input type="file" name="sampleFile">
								<input type="submit" value="Upload!">
							</form-->
								<div class="js-upload" uk-form-custom>
									<input type="file" multiple>
									<button class="uk-button uk-button-default" type="button">Select</button>
<!--									<button class="uk-button uk-button-default" type="submit">Submit</button>-->
								</div>
						<div id="tests">
							<img id="test" src="" alt="">
							<audio id="ctl" controls="controls">
								<source id="aud" src=""/>
							</audio>
						</div>
						<!-- Commented-out Code --> <div>
<!--						<div>-->
<!--							<div class="uk-container uk-margin-top uk-margin-bottom">-->
<!--								<p class="uk-text-lead">Multiple file upload preview</p>-->
<!--								<div class="uk-upload-box">-->
<!--									<div id="error-alert-file-upload" class="uk-alert-danger uk-margin-top uk-hidden" uk-alert>-->
<!--										<p id="error-messages-fileupload"></p>-->
<!--									</div>-->

<!--									<div class="js-upload uk-placeholder uk-text-center">-->
<!--										<span uk-icon="icon: cloud-upload"></span>-->
<!--										<span class="uk-text-middle uk-margin-small-left">Attach files by dropping them here or</span>-->
<!--										<div uk-form-custom>-->
<!--											<input name="documents[]" type="file" accept="image/png, image/jpeg" multiple>-->
<!--											<span class="uk-link">selecting one</span>-->
<!--										</div>-->

<!--										<ul id="preview" class="uk-list uk-grid-match uk-child-width-1-2 uk-child-width-1-4@l uk-child-width-1-5@xl uk-text-center" uk-grid uk-scrollspy="cls: uk-animation-scale-up; target: .list-item; delay: 80"></ul>-->
<!--									</div>-->
<!--								</div>-->

<!--								<hr>-->
<!--								<p class="uk-text-lead">Single file upload preview</p>-->

<!--								<div class="uk-upload-box">-->
<!--									<div id="error-alert-file-upload" class="uk-alert-danger uk-margin-top uk-hidden" uk-alert>-->
<!--										<p id="error-messages-fileupload"></p>-->
<!--									</div>-->

<!--									<div class="js-upload uk-placeholder uk-text-center">-->
<!--										<span uk-icon="icon: cloud-upload"></span>-->
<!--										<span class="uk-text-middle uk-margin-small-left">Attach files by dropping them here or</span>-->
<!--										<div uk-form-custom>-->
<!--											<input name="document" accept="image/png, image/jpeg" type="file">-->
<!--											<span class="uk-link">selecting one</span>-->
<!--										</div>-->

<!--										<ul id="preview" class="uk-list uk-grid-match uk-child-width-1-2 uk-child-width-1-4@l uk-child-width-1-5@xl uk-text-center" uk-grid uk-scrollspy="cls: uk-animation-scale-up; target: .list-item; delay: 80"></ul>-->
<!--									</div>-->
<!--								</div>-->

<!--								<progress id="js-progressbar" class="uk-progress" value="0" max="100">    </progress>-->
<!--								<div class="uk-clearfix">-->
<!--									<div class="uk-float-left"><span class="bar-value-loaded"></span></div>-->
<!--									<div class="uk-float-right"><span class="bar-value-total"></span></div>-->
<!--								</div>-->
<!--							</div>-->
<!--						</div>-->
							</div>
						</div>
						<!-- Commented-out Code --> <div>
<!--						<div>-->
<!--							<div class="uk-container uk-margin-top uk-margin-bottom">-->
<!--								<p class="uk-text-lead">Multiple file upload preview</p>-->
<!--								<div class="uk-upload-box">-->
<!--									<div id="error-alert-file-upload" class="uk-alert-danger uk-margin-top uk-hidden" uk-alert>-->
<!--										<p id="error-messages-fileupload"></p>-->
<!--									</div>-->

<!--									<div class="js-upload uk-placeholder uk-text-center">-->
<!--										<span uk-icon="icon: cloud-upload"></span>-->
<!--										<span class="uk-text-middle uk-margin-small-left">Attach files by dropping them here or</span>-->
<!--										<div uk-form-custom>-->
<!--											<input name="documents[]" type="file" accept="image/png, image/jpeg" multiple>-->
<!--											<span class="uk-link">selecting one</span>-->
<!--										</div>-->

<!--										<ul id="preview" class="uk-list uk-grid-match uk-child-width-1-2 uk-child-width-1-4@l uk-child-width-1-5@xl uk-text-center" uk-grid uk-scrollspy="cls: uk-animation-scale-up; target: .list-item; delay: 80"></ul>-->
<!--									</div>-->
<!--								</div>-->

<!--								<hr>-->
<!--								<p class="uk-text-lead">Single file upload preview</p>-->

<!--								<div class="uk-upload-box">-->
<!--									<div id="error-alert-file-upload" class="uk-alert-danger uk-margin-top uk-hidden" uk-alert>-->
<!--										<p id="error-messages-fileupload"></p>-->
<!--									</div>-->

<!--									<div class="js-upload uk-placeholder uk-text-center">-->
<!--										<span uk-icon="icon: cloud-upload"></span>-->
<!--										<span class="uk-text-middle uk-margin-small-left">Attach files by dropping them here or</span>-->
<!--										<div uk-form-custom>-->
<!--											<input name="document" accept="image/png, image/jpeg" type="file">-->
<!--											<span class="uk-link">selecting one</span>-->
<!--										</div>-->

<!--										<ul id="preview" class="uk-list uk-grid-match uk-child-width-1-2 uk-child-width-1-4@l uk-child-width-1-5@xl uk-text-center" uk-grid uk-scrollspy="cls: uk-animation-scale-up; target: .list-item; delay: 80"></ul>-->
<!--									</div>-->
<!--								</div>-->

<!--								<progress id="js-progressbar" class="uk-progress" value="0" max="100">    </progress>-->
<!--								<div class="uk-clearfix">-->
<!--									<div class="uk-float-left"><span class="bar-value-loaded"></span></div>-->
<!--									<div class="uk-float-right"><span class="bar-value-total"></span></div>-->
<!--								</div>-->
<!--							</div>-->
<!--						</div>-->
							</div>
					</div>
				</li>
				<li id="modules" class="uk-child-width-1-2 uk-padding-small" uk-grid>
					<ul id="modules-tabs" class="uk-width-auto@m uk-tab-left uk-width-auto" uk-tab uk-switcher="connect: #moduleSelection">
						<li><a href="#">Module 1</a></li>
						<li><a href="#">Module 2</a></li>
					</ul>

					<ul id="modules-contents" class="uk-switcher switcher-container uk-width-expand@m">
						<li id="module1">
							<ul uk-accordion>
								<li class="uk-open">
									<a class="uk-accordion-title" href="#">Module 1 Setting 1</a>
									<div class="uk-accordion-content">
										<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
									</div>
								</li>
								<li>
									<a class="uk-accordion-title" href="#">Module 1 Setting 2</a>
									<div class="uk-accordion-content">
										<p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor reprehenderit.</p>
									</div>
								</li>
								<li>
									<a class="uk-accordion-title" href="#">Module 1 Setting 3</a>
									<div class="uk-accordion-content">
										<p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat proident.</p>
									</div>
								</li>
							</ul>
						</li>

						<li id="module2">
							<ul uk-accordion>
								<li class="uk-open">
									<a class="uk-accordion-title" href="#">Module 2 Setting 1</a>
									<div class="uk-accordion-content">
										<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
									</div>
								</li>
								<li>
									<a class="uk-accordion-title" href="#">Module 2 Setting 2</a>
									<div class="uk-accordion-content">
										<p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor reprehenderit.</p>
									</div>
								</li>
								<li>
									<a class="uk-accordion-title" href="#">Module 2 Setting 3</a>
									<div class="uk-accordion-content">
										<p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat proident.</p>
									</div>
								</li>
							</ul>
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
</div>

<script>

	let mbar = $('#m-js-progressbar')[0];

	window.up = UIkit.upload('#uploader', {
		url: '/data/mod/Image Commands/Images',
		name: 'dataFile',
		multiple: true,

		completeAll: function() {
			setTimeout(function () {
				mbar.setAttribute('hidden', 'hidden');
			}, 1000);
		},

		complete: function(req) {
			let img = $('#upload-image');
			let files = JSON.parse(req.response);
			imageName = files.dataFile.name;
			$('#imgNameTag').text(imageName);
			// let contentType = req.getResponseHeader('content-type');
			img.attr('src', files.dataFile.data);
			UIkit.toggle('#upload-toggler').toggle();
		},

		loadStart: function (e) {
			console.log('loadStart', arguments);

			mbar.removeAttribute('hidden');
			mbar.max = e.total;
			mbar.value = e.loaded;
		},

		progress: function (e) {
			console.log('progress', arguments);

			mbar.max = e.total;
			mbar.value = e.loaded;
		},

		loadEnd: function (e) {
			console.log('loadEnd', arguments);

			mbar.max = e.total;
			mbar.value = e.loaded;
		},
	});

















	let imageName;

	function deleteImage() {
		let xHttp = new XMLHttpRequest();
		xHttp.open('DELETE', `/data/mod/Random Image/images/dataFile`, true);
		xHttp.send();
	}

	$('#xbtn').click(() => {
		UIkit.toggle('#upload-toggler').toggle();
		deleteImage();
		$('#upload-image').attr('src', '');
	});

	let bar = $('#js-progressbar')[0];

	window.up = UIkit.upload('#uploader', {
		url: '/data/mod/Image Commands/Images',
		name: 'dataFile',
		multiple: true,

		completeAll: function() {
			setTimeout(function () {
				bar.setAttribute('hidden', 'hidden');
			}, 1000);
		},

		complete: function(req) {
			let img = $('#upload-image');
			let files = JSON.parse(req.response);
			imageName = files.dataFile.name;
			$('#imgNameTag').text(imageName);
			// let contentType = req.getResponseHeader('content-type');
			img.attr('src', files.dataFile.data);
			UIkit.toggle('#upload-toggler').toggle();
		},

		loadStart: function (e) {
			console.log('loadStart', arguments);

			bar.removeAttribute('hidden');
			bar.max = e.total;
			bar.value = e.loaded;
		},

		progress: function (e) {
			console.log('progress', arguments);

			bar.max = e.total;
			bar.value = e.loaded;
		},

		loadEnd: function (e) {
			console.log('loadEnd', arguments);

			bar.max = e.total;
			bar.value = e.loaded;
		},
	});










/*	function arrayBufferToBase64(buffer) {
		let binary = '';
		let bytes = new Uint8Array(buffer);
		let len = bytes.byteLength;
		for (let i = 0; i < len; i++) {
			binary += String.fromCharCode(bytes[i]);
		}
		return window.btoa(binary);
	}

	function b64EncodeUnicode(str) {
		// first we use encodeURIComponent to get percent-encoded UTF-8,
		// then we convert the percent encodings into raw bytes which
		// can be fed into btoa.
		return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,
				function toSolidBytes(match, p1) {
					return String.fromCharCode('0x' + p1);
				}));
	}

	function encodeUnicode(str) {
		// first we use encodeURIComponent to get percent-encoded UTF-8,
		// then we convert the percent encodings into raw bytes which
		// can be fed into btoa.
		return btoa(encodeURIComponent(str).replace(/%([0-9A-F]{2})/g,
				function toSolidBytes(match, p1) {
					return String.fromCharCode('0x' + p1);
				}));
	}

	function getBase64(file) {
		var reader = new FileReader();
		reader.readAsDataURL(file);
		reader.onload = function () {
			console.log(reader.result);
		};
		reader.onerror = function (error) {
			console.log('Error: ', error);
		};
	}

	function src(b64) {
		$('#test').attr('data-src', 'data:image/png;base64,' + b64);
	}

	UIkit.upload('.js-upload', {
		url: '/upload/mod/Random Image/images',
		name: 'dataFile',
		multiple: true,

		completeAll: function() {
			alert('Done');
		},

		complete: function(req) {
			//////////////// SOUNDS ////////////////
			// window.req = req;
			// window.res = req.response;
			// let files = JSON.parse(req.response);
			// $('#aud').attr('src', 'data:audio/wav;base64,' + files.dataFile);
			// $('#ctl').get(0).load();

			//////////////// IMAGES ////////////////

			// // let image = $(`<img id="test"></img>`);
			window.req = req;
			window.res = req.response;
			let files = JSON.parse(req.response);
			src(files.dataFile);

			//////////////// PREVIOUS ATTEMPTS ////////////////
			// // let source;
			//
			// // console.log(req);
			// // let b64Response = btoa(req.response);
			// // source = 'data:image/png;base64,'+req.response;
			//
			// // let b64Response = b64EncodeUnicode(req.response);
			// // let b64Response = btoa(unescape(encodeURIComponent(req.response)));
			// // source = 'data:image/png;base64,' + b64Response;
			//
			// // source = URL.createObjectURL(req.response);
			//
			// // source = req.response;
			// //
			// // image.attr('src', source);
			// // $('#images').append(image);
		},
	});
*/
/*
	function imgPreviewLi(readerResult, filename) {
		const li = document.createElement("li");
		const div = document.createElement("div");
		const img = document.createElement("img");
		const span = document.createElement("span");

		li.className = "list-item uk-margin-medium-top";
		div.className = "uk-cover-container";
		img.className = "delete-img-preview";
		img.setAttribute("id", "img-preview-responsive");
		img.setAttribute("src", readerResult);
		img.setAttribute("data-name", filename);
		img.setAttribute("alt", "file-image-preview");
		span.className = "uk-text-meta uk-text-break file-upload-name";
		span.textContent = filename;

		div.append(img);
		li.append(div, span);
		return li;
	}

	function previewMultipleFiles(files, fileInput, preview, alert, alertMessage) {
		const acceptedDocMimes = ["application/pdf", "image/png", "image/jpeg"];
		const docFiles = [...files]

		docFiles.forEach(file => {
			const size = file["size"];
			const fileType = file["type"];

			if (docFiles.length !== 0) {
				while(preview.firstChild) {
					preview.removeChild(preview.firstChild);
				}
			}

			if (size > 2000000) {
				alertMessage.textContent =
						"Sorry, one or more of your files has exceeded the file size limit of 2MB.";
				alertMessage.classList.add("uk-text-danger");
				alert.classList.remove("uk-hidden");
				preview.innerHTML = "";
				fileInput.files = [];
				return false;
			}

			if (acceptedDocMimes.includes(fileType)) {
				alertMessage.textContent = "";
				alert.classList.add("uk-hidden");
				fileInput.files = files;

				// console.log(fileInput.files)

				const reader = new FileReader();
				reader.onload = () => {
					let filename = file["name"];
					let imgPreview = imgPreviewLi(reader.result, filename);
					preview.append(imgPreview);
				};
				reader.readAsDataURL(file);
			} else {
				alertMessage.textContent = "Sorry, your file type is not allowed.";
				alertMessage.classList.add("uk-text-danger");
				alert.classList.remove("uk-hidden");
				preview.innerHTML = "";
				fileInput.files = [];
			}
		});
	}

	function previewSingleFile(files, fileInput, preview, alert, alertMessage) {
		const acceptedDocMimes = ["application/pdf", "image/png", "image/jpeg"];
		const size = files[0]["size"];
		const fileType = files[0]["type"];
		let filename = files[0]["name"];

		if (files[0].length !== 0) {
			while(preview.firstChild) {
				preview.removeChild(preview.firstChild);
			}
		}

		if (size > 2000000) {
			alertMessage.textContent =
					"Sorry, your file has exceeded the file size limit of 2MB.";
			alertMessage.classList.add("uk-text-danger");
			alert.classList.remove("uk-hidden");
			preview.innerHTML = "";
			fileInput.files = [];
			console.log(`${size} is more than 2 mb`);
			return false;
		}

		if (acceptedDocMimes.includes(fileType)) {
			alertMessage.textContent = "";
			alert.classList.add("uk-hidden");

			const reader = new FileReader();
			reader.onload = () => {
				let imgPreview = imgPreviewLi(reader.result, filename);
				preview.append(imgPreview);
			};
			reader.readAsDataURL(files[0]);

		} else {
			alertMessage.textContent = "Sorry, your file type is not allowed.";
			alertMessage.classList.add("uk-text-danger");
			alert.classList.remove("uk-hidden");
			preview.innerHTML = "";
			fileInput.files = [];
			console.log(`${fileType} is not allowed`);
		}
	}

	let bar = document.getElementById("js-progressbar");

	UIkit.upload(".js-upload", {
		url: "/upload",
		multiple: true,
		name: 'dataFile',

		beforeSend: function() {
			// console.log('beforeSend', arguments);
		},

		beforeAll: function() {
			const files = arguments[1];
			const jsUploadEl = arguments[0].$el;
			const fileInput = jsUploadEl.querySelector(".uk-form-custom>input");
			const preview = jsUploadEl.querySelector("#preview");
			const alert = jsUploadEl.parentElement.querySelector(
					".uk-upload-box>#error-alert-file-upload"
			);
			const alertMessage = jsUploadEl.parentElement.querySelector(
					".uk-upload-box>#error-alert-file-upload>p"
			);
			let multiple = false;

			if (fileInput.hasAttribute("multiple")) {
				multiple = true;
				previewMultipleFiles(files, fileInput, preview, alert, alertMessage);
			} else {
				previewSingleFile(files, fileInput, preview, alert, alertMessage);
			}
		},

		load: function() {
			// console.log('load', arguments);
		},

		error: function() {
			// console.log('error', arguments);
		},

		complete: function(response) {
			console.log('complete', arguments);
		},

		loadStart: function(e) {
			// console.log('loadStart', arguments);

			bar.removeAttribute("hidden");
			bar.max = e.total;
			bar.value = e.loaded;
		},

		progress: function(e) {
			// console.log('progress', arguments);

			bar.max = e.total;
			bar.value = e.loaded;
		},

		loadEnd: function(e) {
			// console.log('loadEnd', arguments);
			bar.max = e.total;
			bar.value = e.loaded;
		},

		completeAll: function() {
			// console.log('completeAll', arguments);

			setTimeout(function() {
				bar.setAttribute("hidden", "hidden");
			}, 1000);

			alert('Upload Completed');
		}
	});
*/
</script>

<!--</form>-->
</body>
</html>
